<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title>Tesla Entertainment</title>
    <link rel="stylesheet" href="Tesla_Design_Anna.css">

</head>

<body>

    <header>
        <button id="Back" class="Status">
            <img src="Home.png" width="53" height="50">
        </button>
        <div id="Date" class="Status">
            
        </div>
        <div id="Logo" class="Status">
            <img src="Logo.png" width="53" height="50" > <!-- Verhältnis 1,0575-->
        </div>
        <div id="Time" class="Status">
            
        </div>
        <div id="Temp" class="Status">
            
        </div>

    </header>

    <main>
        <div id="mainPage">
            <button id="button1" class="Value">
                Luftdruck
            </button>
            <button id="button2" class="Value">
                Luftfeuchtigkeit
            </button>
            <button id="button3" class="Value">
                Verbrauch
            </button>
            <button id="button4" class="Value">
                Reichweite
            </button>
           </div>
            </main>

    <footer>
        <div id="Title" class="Music">
            ♪♫ MUSIK ♪♫
        </div>
        <div class="Music">
            AKTUELLES LIED ♪
        </div>
        <div class="Music">
            COVER
        </div>
    </footer>

    <script>
        "use strict";
         fetch('http://192.168.0.164:5000/status').then(function (response) {
            response.text().then(function (text) {
              // var e = document.getElementById("data").innerHTML = text;
               let actualValues = text.split(/,|:/);
               console.log(text);
               // document.getElementById("Title").innerHTML = consumption[4];
          
       
       

        //function ClickLD() {

        //    document.querySelector("main").innerHTML = "";

        //    var x = document.createElement("div");
        //    x.innerHTML = "Aktueller Luftdruck: 2,6 bar";

        //    document.getElementsByTagName("main")[0].appendChild(x); //wohin wird was kommen
        //}
        //document.getElementsByTagName("button")[1].addEventListener("click", ClickLD);


        function ClickLF() {
            document.querySelector("main").innerHTML = "";

            var y = document.createElement("div");
            y.innerHTML = "Aktuelle Luftfeuchtigkeit: 55%";

            document.getElementsByTagName("main")[0].appendChild(y); //wohin wird was kommen
        }
        document.getElementsByTagName("button")[2].addEventListener("click", ClickLF);


        function ClickAV() {
            document.querySelector("main").innerHTML = "";

            var z = document.createElement("div");
            z.innerHTML = "Aktueller Verbrauch: 20,7 kWh/100 km";

            document.getElementsByTagName("main")[0].appendChild(z); //wohin wird was kommen
        }
        document.getElementsByTagName("button")[3].addEventListener("click", ClickAV);


        function ClickVR() {
            document.querySelector("main").innerHTML = "";

            var w = document.createElement("div");
            w.innerHTML = "Verbleibende Reichweite: 200km";

            document.getElementsByTagName("main")[0].appendChild(w); //wohin wird was kommen
        }
        document.getElementsByTagName("button")[4].addEventListener("click", ClickVR);

        ////Zurück Button Erstellen
        //for (var i = 1; i <= 4; i++) {
        //    document.getElementById("button" + i).addEventListener("click", Back);
        //}
        //function Back() {
        //    var v = document.createElement("button");
        //    v.innerHTML = "<<"
        //    v.className = "Back"

        //    document.getElementsByTagName("header")[0].appendChild(v);
        //}

        //Template Home
        function ShowTemplate() {
            document.getElementById("Pressure").style.display = "none";
            document.getElementById("Back").disabled = true; //Zurück kann nur einmal betätigt werden
            document.getElementsByTagName("main")[0].appendChild(
                document.getElementsByClassName("Home")[0].content.cloneNode(true));
        }
        document.getElementsByTagName("button")[0].addEventListener("click", ShowTemplate);

        function ShowLD() {
            document.getElementById("mainPage").style.display = "none";
            document.getElementsByTagName("main")[0].appendChild(
                document.getElementsByClassName("LD")[0].content.cloneNode(true));
            document.getElementById("Pressure").innerHTML += actualValues[5].substr(1, 6) + " bar";
        }
                document.getElementsByClassName("Value")[0].addEventListener("click", ShowLD);

                //Aktuelle Temperatur

                document.getElementsByTagName("div")[3].innerHTML = actualValues[9].substr(1, 4) + " °C";
                
  }); 
         });
         //Aktuelle Uhrzeit
        function currentTime() {
            var Today = new Date();
            var hoursGet = Today.getHours(); var minutesGet = Today.getMinutes(); var secondsGet = Today.getSeconds();
            var Hours, Minutes, Seconds
            Hours = hoursGet + ":";

            if (minutesGet < 10) { Minutes = '0' + minutesGet + ":"; }
            else { Minutes = minutesGet + ":"; }
            if (secondsGet < 10) { Seconds = '0' + secondsGet; }
            else { Seconds = secondsGet; }

            Time.innerHTML = Hours + Minutes + Seconds + " Uhr";

            window.setTimeout("currentTime();", 1000);

        }
        window.onload = currentTime;

        //Aktuelles Datum
        function getToday() {
            var Today = new Date();

            var Day = Today.getDate(); // Tag

            // Monatsangabe startet bei 0!
            var Month = Today.getMonth() + 1; // Monat

            var Year = Today.getFullYear(); // Jahr
            if (Day < 10) {
                Day = '0' + day;
            }
            if (Month < 10) {
                Month = '0' + month;
            }
            Today = Day + '.' + Month + '.' + Year;

            return Today;
        }
        document.getElementById("Date").textContent = getToday();
    </script>

    <template class="Home">
            <button class="Value">
                Luftdruck
            </button>
            <button class="Value">
                Luftfeuchtigkeit
            </button>
            <button class="Value">
                Verbrauch
            </button>
            <button class="Value">
                Reichweite
            </button>
    </template>

    <template class="LD">
            <div id="Pressure">
                Aktueller Luftdruck: 
            </div>
    </template>

</body>
</html>